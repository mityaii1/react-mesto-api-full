{"version":3,"sources":["images/header-logo.svg","components/Header.js","utils/token.js","utils/apiAuth.js","components/Register.js","components/Login.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","images/success.svg","images/unsuccess.svg","components/InfoTooltip.js","components/ProtectedRoute.js","components/App.js","serviceWorker.js","index.js"],"names":["Header","props","className","src","headerLogo","alt","loggedIn","email","onClick","loggedOut","href","routePath","routePathName","to","TOKEN_KEY","setToken","token","localStorage","setItem","getToken","getItem","BASE_URL","getResponseData","res","ok","json","Promise","reject","Register","React","useState","setEmail","password","setPassword","history","useHistory","onSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","apiAuth","onInfoTooltip","push","catch","err","status","console","log","name","type","placeholder","required","onChange","evt","target","value","Login","data","setData","handleChange","prevData","onLogin","id","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","onCardDelete","aria-label","link","onCardClick","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","Footer","api","options","this","_baseUrl","baseUrl","_headers","Error","jwt","Authorization","_getResponseData","fullName","aboutMe","nameCard","linkToImage","elemId","newAvatar","authorization","PopupWithForm","isOpen","onClose","title","children","buttonText","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","setLink","ImagePopup","InfoTooltip","toolTipPopup","image","success","unsuccess","text","ProtectedRoute","Component","component","App","setLoggedIn","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isInfoTooltip","setInfoTooltip","setToolTipPopup","selectedCard","setSelectedCard","isCardDeletePopupOpen","setIsCardDeletePopupOpen","setCurrentUser","setCards","closeAllPopups","tokenCheck","all","getUserInfo","getInitialCards","user","Provider","removeItem","path","deleteCard","filter","c","addLike","newCard","newCards","deleteLike","updateAvatar","setUserInfo","item","addNewCard","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.8194e568.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.a307e1c4.svg\";","import React from 'react';\nimport headerLogo from '../images/header-logo.svg';\nimport { Link } from 'react-router-dom';\n\nfunction Header(props) {\n    return (\n        <header className=\"header\">\n            <img className=\"header__logo\" src={headerLogo} alt=\"Лого\" />\n            { props.loggedIn ?\n                <div className=\"header__auth\">\n                    <p className=\"header__auth_email\">{props.email}</p>\n                    <a className=\"header__auth_link-exit transparent\" onClick={props.loggedOut} href={props.routePath}>{props.routePathName}</a>\n                </div>\n                :\n                <div className=\"header__auth\">\n                    <Link to={props.routePath} className=\"header__auth_link transparent\">{props.routePathName}</Link>\n                </div>\n            }\n        </header>\n        \n    );\n}\n\nexport default Header;\n","const TOKEN_KEY = 'jwt';\n\nexport const setToken = (token) => {\n  localStorage.setItem(TOKEN_KEY, token);\n}\n\nexport const getToken = () => localStorage.getItem(TOKEN_KEY);\n\nexport const removeToken = () => {\n  localStorage.removeItem(TOKEN_KEY)\n}\n","import { setToken } from './token';\n\nexport const BASE_URL = 'https://api.kusto.students.nomoredomains.monster';\n\nfunction getResponseData(res) {\n    if (res.ok) {\n        return res.json();\n    }\n    return Promise.reject(res);\n}\nexport const register = (email, password) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n            email,\n            password\n        })\n    })\n        .then(getResponseData)\n}\nexport const authorize = (email, password) => {\n    return fetch(`${BASE_URL}/signin`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n            email,\n            password\n        })\n    })\n        .then(getResponseData)\n        .then((data) => {\n            if (data) {\n                setToken(data);\n                return data;\n            } else {\n                return;\n            }\n        })\n\n}\nexport const checkToken = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n        },\n    })\n        .then(getResponseData)\n}\n\n\n","import React from 'react';\nimport { useHistory, Link } from 'react-router-dom';\nimport * as apiAuth from '../utils/apiAuth';\n\nfunction Register(props) {\n    const [email, setEmail] = React.useState('')\n    const [password, setPassword] = React.useState('')\n    const history = useHistory();\n\n    function handleChangeEmail(evt) {\n        setEmail(evt.target.value);\n    }\n\n    function handleChangePassword(evt) {\n        setPassword(evt.target.value);\n    }\n    function handleSubmit(e) {\n        e.preventDefault();\n        apiAuth.register(email, password)\n            .then((res) => {\n                if (res) {\n                    props.onInfoTooltip(true, 'Вы успешно зарегистрировались!')\n                    history.push('/sign-in');\n                }\n            })\n            .catch((err) => {\n                if (err.status === 400) {\n                    console.log('Hекорректно заполнено одно из полей')\n                } else {\n                    console.log(err)\n                }\n                props.onInfoTooltip(false, 'Что-то пошло не так! Попробуйте ещё раз.')\n            })\n    }\n\n    return (\n        <div className=\"register\">\n            <h1 className=\"register__title\">Регистрация</h1>\n            <form onSubmit={handleSubmit} className=\"register__form\">\n                <input name=\"email\" type=\"email\" className=\"register__input\"\n                    placeholder=\"Email\" required onChange={handleChangeEmail} />\n                <input name=\"password\" type=\"password\" className=\"register__input\"\n                    placeholder=\"Пароль\" required onChange={handleChangePassword} />\n                <button type=\"submit\" className=\"register__button-singup\">Зарегистрироваться</button>\n            </form>\n            <div className=\"register__auth\">\n                <p>Уже зарегистрированы?</p>\n                <Link to={'/sign-in'} className=\"register__auth_link transparent\">Войти</Link>\n            </div>\n        </div>\n    )\n}\n\nexport default Register;","import React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { setToken } from '../utils/token';\nimport * as apiAuth from '../utils/apiAuth';\n\n\nfunction Login(props) {\n    const [data, setData] = React.useState({ email: '', password: '' });\n    const history = useHistory();\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setData((prevData) => ({\n            ...prevData,\n            [name]: value,\n        }));\n    }\n    const handleSubmit = (e) => {\n        e.preventDefault();\n\n        const { email, password } = data;\n        if (!email || !password) {\n            return;\n        }\n        apiAuth.authorize(email, password)\n            .then((data) => {\n                if (data) {\n                    setToken(data.token);\n                    setData({ email: '', password: '' });\n                    props.onLogin(email, password)\n                    history.push('/');\n                }\n            })\n            .catch((err) => {\n                if (err.status === 401) {\n                    console.log('Пользователь с email не найден')\n                } else if (err.status === 400) {\n                    console.log('Не передано одно из полей ')\n                } else {\n                    console.log(err)\n                }\n                props.onInfoTooltip(false, 'Что-то пошло не так! Попробуйте ещё раз.')\n                \n            })\n    }\n\n    return (\n        <div className=\"register\">\n            <h1 className=\"register__title\">Вход</h1>\n            <form onSubmit={handleSubmit} className=\"register__form\">\n                <input name=\"email\" id=\"email\" type=\"email\" className=\"register__input\"\n                    placeholder=\"Email\" required value={data.email} onChange={handleChange} />\n                <input name=\"password\" type=\"password\" className=\"register__input\"\n                    placeholder=\"Пароль\" required value={data.password} onChange={handleChange} />\n                <button type=\"submit\" className=\"register__button-singup\">Войти</button>\n            </form>\n        </div>\n    )\n}\n\nexport default Login;","import React from 'react';\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const isOwn = props.card.owner === currentUser._id;\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\n    const cardLikeButtonClassName = (`element__button-like ${isLiked ? 'element__button-like_active' : ''}`);\n\n    function handleClick() {\n        props.onCardClick(props.card);\n    }\n    function handleCardDeleteClick() {\n        props.onCardDelete(props.card);\n    }\n    function handleLikeClick() {\n        props.onCardLike(props.card);\n    }\n\n    return (\n        <div className=\"element\">\n            {isOwn ? (<button className=\"element__button-remove transparent\" onClick={handleCardDeleteClick} type=\"button\" aria-label=\"Удалить\"></button>) : ('')}\n            <img src={props.card.link} className=\"element__image\" alt={props.card.name} onClick={handleClick} />\n            <h3 className=\"element__title\">{props.card.name}</h3>\n            <button className={`card__like ${cardLikeButtonClassName} transparent`} onClick={handleLikeClick} type=\"button\" aria-label=\"Нравиться\"></button>\n            <span className=\"element__number-likes\">{props.card.likes.length}</span>\n        </div>\n    )\n}\nexport default Card;","import React from 'react';\n//import api from '../utils/api';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return (\n        <main className=\"content\">\n            <section className=\"profile\">\n                <div onClick={props.onEditAvatar} className=\"profile__avatar-edit\" >\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\" />\n                </div>\n                <div className=\"profile__info\">\n                    <div className=\"profile__edit-form\">\n                        <h1 className=\"profile__title\">{currentUser.name}</h1>\n                        <button onClick={props.onEditProfile} className=\"profile__button profile__edit-button transparent\" type=\"button\"\n                            aria-label=\"Редактировать\">\n                        </button>\n                    </div>\n                    <p className=\"profile__subtitle\">{currentUser.about}</p>\n                </div>\n                <button onClick={props.onAddPlace} className=\"profile__button profile__add-button transparent\" type=\"button\" aria-label=\"Добавить\">\n                </button>\n            </section>\n            <section className=\"elements\">\n                {props.cards.map((card) => <Card\n                    card={card}\n                    key={card._id}\n                    onCardClick={props.onCardClick}\n                    onCardDelete={props.onCardDelete}\n                    onCardLike={props.onCardLike}\n                />)}\n            </section>\n        </main>\n    );\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer;","class Api {\n    constructor(options) {\n        this._baseUrl = options.baseUrl;\n        this._headers = options.headers;\n    }\n    _getResponseData(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\n    }\n    getUserInfo(jwt) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${jwt}`,\n            },\n        })\n            .then(this._getResponseData)\n    }\n    setUserInfo(fullName, aboutMe) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: fullName,\n                about: aboutMe\n            })\n        })\n            .then(this._getResponseData)\n    }\n    getInitialCards(jwt) {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${jwt}`,\n            },\n        })\n            .then(this._getResponseData)\n    }\n    addNewCard(nameCard, linkToImage) {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: nameCard,\n                link: linkToImage\n            })\n        })\n            .then(this._getResponseData)\n    }\n    deleteCard(elemId) {\n        return fetch(`${this._baseUrl}/cards/${elemId}`, {\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then(this._getResponseData)\n    }\n    addLike(elemId) {\n        return fetch(`${this._baseUrl}/cards/likes/${elemId}`, {\n            method: 'PUT',\n            headers: this._headers\n        })\n            .then(this._getResponseData)\n    }\n    deleteLike(elemId) {\n        return fetch(`${this._baseUrl}/cards/likes/${elemId}`, {\n            method: 'DELETE',\n            headers: this._headers\n        })\n            .then(this._getResponseData)\n    }\n    updateAvatar(newAvatar) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: newAvatar\n            })\n        })\n            .then(this._getResponseData)\n    }\n}\n\nconst api = new Api({\n    baseUrl: 'https://api.kusto.students.nomoredomains.monster',\n    headers: {\n        authorization: `Bearer ${localStorage.getItem('jwt')}`,\n        'Content-Type': 'application/json'\n    }\n});\n\nexport default api","import React from 'react';\n\nfunction PopupWithForm(props) {\n    return (\n        <section className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n            <div className=\"popup__container\">\n                <form className=\"popup__form\" name={props.name} onSubmit={props.onSubmit}>\n                    <button className=\"popup__close-icon transparent\" onClick={props.onClose} type=\"button\" aria-label=\"Закрыть\">\n                    </button>\n                    <h2 className=\"popup__title\">{props.title}</h2>\n\n                    {props.children}\n\n                    <button type=\"submit\" className=\"popup__button-save\">{props.buttonText}</button>\n                </form>\n            </div>\n        </section>\n    )\n}\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState('');\n    const [description, setDescription] = React.useState('');\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser]);\n\n    function handleChangeName(evt) {\n        setName(evt.target.value);\n    }\n    function handleChangeDescription(evt) {\n        setDescription(evt.target.value);\n    }\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n    return (\n        <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" buttonText=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <div className=\"popup__field\">\n                <input name=\"full_name\" type=\"text\" id=\"name-input\" className=\"popup__input popup__input_name\"\n                    placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" value={name} onChange={handleChangeName} />\n                <span className=\"popup__input-error\" id=\"name-input-error\"></span>\n            </div>\n            <div className=\"popup__field\">\n                <input name=\"about_me\" type=\"text\" id=\"about-me-input\"\n                    className=\"popup__input popup__input_about-me\"\n                    placeholder=\"О себе\" required minLength=\"2\" maxLength=\"200\" value={description} onChange={handleChangeDescription} />\n                <span className=\"popup__input-error\" id=\"about-me-input-error\"></span>\n            </div>\n        </PopupWithForm>\n    )\n}\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n    const avatarRef = React.useRef('');\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateAvatar({\n            avatar: avatarRef.current.value,\n        });\n    }\n\n    return (\n        <PopupWithForm name=\"update-avatar\" title=\"Обновить аватар\" buttonText=\"Сохранить\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <div className=\"popup__field\">\n                <input name=\"link_to_avatar\" type=\"url\" id=\"link-input\" ref={avatarRef}\n                    className=\"popup__input popup__input_link-to-avatar\" placeholder=\"Ссылка на новый аватар\"\n                    required />\n                <span className=\"popup__input-error\" id=\"link-input-error\"></span>\n            </div>\n\n        </PopupWithForm>\n    )\n}\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n    const [name, setName] = React.useState('');\n    const [link, setLink] = React.useState('');\n\n    function handleChangeName(evt) {\n        setName(evt.target.value);\n    }\n    function handleChangeLink(evt) {\n        setLink(evt.target.value);\n    }\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onAddPlace({\n            name,\n            link,\n        })\n    }\n\n    return (\n        <PopupWithForm name=\"card\" title=\"Новое место\" buttonText=\"Создать\" isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}>\n            <div className=\"popup__field\">\n                <input name=\"name_card\" type=\"text\" id=\"card-input\"\n                    className=\"popup__input popup__input_name-card\" placeholder=\"Название\" required\n                    minLength=\"1\" maxLength=\"30\" value={name} onChange={handleChangeName} />\n                <span className=\"popup__input-error\" id=\"card-input-error\"></span>\n            </div>\n            <div className=\"popup__field\">\n                <input name=\"link_to_image\" type=\"url\" id=\"link-input\"\n                    className=\"popup__input popup__input_link-to-image\" placeholder=\"Ссылка на картинку\"\n                    required value={link} onChange={handleChangeLink} />\n                <span className=\"popup__input-error\" id=\"link-input-error\"></span>\n            </div>\n        </PopupWithForm>\n    )\n}\nexport default AddPlacePopup;","import React from 'react';\n\nfunction ImagePopup(props) {\n    if (!props.card) { return false }\n    else {\n        return (\n            <section className=\"popup popup_images popup_opened\">\n                <figure className=\"popup__container-image\">\n                    <button className=\"popup__close-icon popup__close-image transparent\" onClick={props.onClose} type=\"button\" aria-label=\"Закрыть\">\n                    </button>\n                    <img src={props.card.link} className=\"popup__preview\" alt={props.card.name} />\n                    <figcaption className=\"popup__title-image\">{props.card.name}</figcaption>\n                </figure>\n            </section>\n        )\n    }\n}\nexport default ImagePopup;","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/unsuccess.7c6a020b.svg\";","import React from 'react';\nimport success from '../images/success.svg';\nimport unsuccess from '../images/unsuccess.svg';\n\nfunction InfoTooltip(props) {\n    return (\n        <section className={`popup popup_${props.name} ${props.isOpen ? 'popup_opened' : ''}`}>\n            <div className=\"popup__container\">\n                <button className=\"popup__close-icon transparent\" onClick={props.onClose} type=\"button\" aria-label=\"Закрыть\">\n                </button>\n                <img className=\"popup__tool-tip-image\" src={props.toolTipPopup.image ? success : unsuccess} alt=\"Картинка\" />\n                <p className=\"popup__tool-tip-text\">{props.toolTipPopup.text}</p>\n            </div>\n        </section>\n    )\n}\n\nexport default InfoTooltip;","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;","import React from 'react';\nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom';\nimport Header from './Header'\nimport Register from './Register.js';\nimport Login from './Login.js';\nimport Main from './Main';\nimport Footer from './Footer';\nimport api from '../utils/api';\nimport * as apiAuth from '../utils/apiAuth';\nimport { getToken, removeToken } from '../utils/token';\nimport PopupWithForm from './PopupWithForm';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport InfoTooltip from './InfoTooltip';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport ProtectedRoute from './ProtectedRoute';\nimport '../App.css';\n\n\nfunction App() {\n    const history = useHistory();\n    const [loggedIn, setLoggedIn] = React.useState(false);\n    const [email, setEmail] = React.useState('');\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isInfoTooltip, setInfoTooltip] = React.useState(false);\n    const [toolTipPopup, setToolTipPopup] = React.useState({});\n    const [selectedCard, setSelectedCard] = React.useState(false);\n    const [isCardDeletePopupOpen, setIsCardDeletePopupOpen] = React.useState(false);\n    const [currentUser, setCurrentUser] = React.useState({ name: '', about: '', avatar: '' });\n    const [cards, setCards] = React.useState([])\n\n    const handleEditAvatarClick = () => { setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen); }\n    const handleEditProfileClick = () => { setIsEditProfilePopupOpen(!isEditProfilePopupOpen); }\n    const handleAddPlaceClick = () => { setIsAddPlacePopupOpen(!isAddPlacePopupOpen); }\n    const handleCardClick = (card) => { setSelectedCard(card); }\n    const handleCardDeleteClick = (card) => {\n        api.deleteCard(card._id)\n            .then(() => {\n                setCards(cards.filter((c) => c._id !== card._id));\n            })\n            .catch((err) => { console.log(err); });\n    }\n    const handleCardLike = (card) => {\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n        if (!isLiked)\n            api.addLike(card._id)\n                .then((newCard) => {\n                    const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n                    setCards(newCards);\n                })\n                .catch((err) => { console.log(err); });\n        if (isLiked)\n            api.deleteLike(card._id)\n                .then((newCard) => {\n                    const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n                    setCards(newCards);\n                })\n                .catch((err) => { console.log(err); });\n    }\n    const handleUpdateUser = (user) => {\n        api.setUserInfo(user.name, user.about)\n            .then((user) => {\n                setCurrentUser({\n                    ...currentUser,\n                    name: user.name,\n                    about: user.about,\n                })\n                closeAllPopups()\n            })\n            .catch((err) => { console.log(err); })\n    }\n    const handleUpdateAvatar = (user) => {\n        api.updateAvatar(user.avatar)\n            .then((user) => {\n                setCurrentUser({\n                    ...currentUser,\n                    avatar: user.avatar,\n                })\n                closeAllPopups()\n            })\n            .catch((err) => { console.log(err); })\n    }\n    const handleAddPlaceSubmit = (item) => {\n        api.addNewCard(item.name, item.link)\n            .then((newCard) => {\n                setCards(\n                    [newCard, ...cards]\n                );\n                closeAllPopups();\n            })\n            .catch((err) => { console.log(err); })\n    }\n    const closeAllPopups = () => {\n        setIsEditAvatarPopupOpen(false)\n        setIsEditProfilePopupOpen(false)\n        setIsAddPlacePopupOpen(false)\n        setSelectedCard(false)\n        setIsCardDeletePopupOpen(false)\n        setInfoTooltip(false)\n    }\n    \n\n    function onInfoTooltip(image, text) {\n        setToolTipPopup({\n            image: image,\n            text: text\n        })\n        setInfoTooltip(true)\n    }\n    const handleLogin = (email) => {\n        history.push('/')\n        setLoggedIn(true);\n        setEmail(email);\n        \n    };\n\n    const tokenCheck = () => {\n        const jwt = getToken();\n        if (!jwt) {\n            return;\n        }\n        apiAuth.checkToken(jwt)\n            .then((res) => {\n                if (res) {\n                    setEmail(res.email)\n                    setLoggedIn(true);\n                    history.push('/')\n                }\n            })\n            .catch((err) => {\n                if (err.status === 401) {\n                    console.log('Переданный токен некорректен');\n                } else if (err.status === 400) {\n                    console.log('Токен не передан или передан не в том формате');\n                }\n            });\n    }\n\n    React.useEffect(() => {\n        tokenCheck();\n    }, []);\n\n    React.useEffect(() => {\n        const jwt = getToken();\n       if (loggedIn) {\n        Promise.all([api.getUserInfo(jwt), api.getInitialCards(jwt)])\n            .then(([user, res]) => {\n                setCurrentUser(user);\n                setCards(res);\n            })\n            .catch((err) => { console.log(err); })\n}\n    }, [loggedIn])\n\n    const onSignOut = () => {\n        removeToken()\n        history.push('/sign-in');\n        setEmail('');\n        setLoggedIn(false);\n    }\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page\">\n                {loggedIn ? <Header email={email} routePathName={'Выйти'} loggedIn={loggedIn} loggedOut={onSignOut} /> : ''}\n                <Switch>\n                    <Route path=\"/sign-up\">\n                        <Header routePathName={'Войти'} routePath={'/sign-in'} loggedIn={loggedIn} />\n                        <Register onInfoTooltip={onInfoTooltip} />\n                    </Route>\n                    <Route path=\"/sign-in\">\n                        <Header routePathName={'Регистрация'} routePath={'/sign-up'} loggedIn={loggedIn} />\n                        <Login onLogin={handleLogin} onInfoTooltip={onInfoTooltip} />\n                    </Route>\n                    <ProtectedRoute path=\"/\" loggedIn={loggedIn} component={Main}\n                        onEditAvatar={handleEditAvatarClick}\n                        onEditProfile={handleEditProfileClick}\n                        onAddPlace={handleAddPlaceClick}\n                        cards={cards}\n                        onCardClick={handleCardClick}\n                        onCardDelete={handleCardDeleteClick}\n                        onCardLike={handleCardLike} />\n                </Switch>\n\n                <Route path=\"*\">\n                    {loggedIn === true ? <Redirect to='/' /> : <Redirect to='/sign-in' />}\n                </Route>\n                <Footer />\n                <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n                <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n                <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n                <PopupWithForm name=\"remove-card\" title=\"Вы уверены?\" buttonText=\"Да\" isOpen={isCardDeletePopupOpen} onClose={closeAllPopups}\n                />\n                <ImagePopup name=\"images\" card={selectedCard} onClose={closeAllPopups} />\n                <InfoTooltip isOpen={isInfoTooltip} toolTipPopup={toolTipPopup} onClose={closeAllPopups}></InfoTooltip>\n            </div>\n        </CurrentUserContext.Provider>\n    );\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}